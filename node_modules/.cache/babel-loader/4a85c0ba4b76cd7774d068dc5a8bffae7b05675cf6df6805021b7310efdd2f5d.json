{"ast":null,"code":"import{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Updateuser(){const[name,SetName]=useState('');const[email,SetEmail]=useState('');const[password,SetPssword]=useState('');const[reppassword,SetReppassword]=useState('');const[accept,SetAccept]=useState(false);const[EmailErr,SetEmailerr]=useState(\"\");const id=window.location.pathname.split(\"/\").slice(-1)[0];useEffect(()=>{fetch(\"http://127.0.0.1:8000/api/user/showbyid/\".concat(id)).then(res=>res.json()).then(data=>{SetName(data[0].name);SetEmail(data[0].email);//SetReppassword(data[0].password)\n});},[]);async function Submit(e){let flag=true;e.preventDefault();SetAccept(true);if(name===''||password.length<=8||reppassword!==password){flag=false;}else flag=true;try{if(flag){let res=await axios.post(\"http://127.0.0.1:8000/api/user/update/\".concat(id),{name:name,email:email,password:password,password_confirmation:reppassword});if(res.status===200){window.localStorage.setItem(\"email\",email);window.location.pathname=\"/Dashbord/Users\";}}}catch(err){SetEmailerr(err.response.status);}}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"pfrm1\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"frm1\",onSubmit:Submit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\" LastName \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"LastName\",placeholder:\"LastName\",id:\"name\",value:name,onChange:e=>SetName(e.target.value)}),name===''&&accept&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:\"name is more than 3 char\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\" Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",id:\"email\",value:email,required:true,onChange:e=>SetEmail(e.target.value)}),accept&&EmailErr===422&&/*#__PURE__*/_jsx(\"p\",{children:\"email is allready taken\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"  Pass word\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Pass word\",id:\"password\",value:password,onChange:e=>SetPssword(e.target.value)}),password.length<=8&&accept&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:\"password motr than 8 char\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"reppassword\",children:\" Repeat Pass word\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Repeat Pass word\",id:\"reppassword\",value:reppassword,onChange:e=>SetReppassword(e.target.value)}),reppassword!==password&&accept&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:\"must similar password\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update\"})]})}),\" \"]});}","map":{"version":3,"names":["useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Updateuser","name","SetName","email","SetEmail","password","SetPssword","reppassword","SetReppassword","accept","SetAccept","EmailErr","SetEmailerr","id","window","location","pathname","split","slice","fetch","concat","then","res","json","data","Submit","e","flag","preventDefault","length","post","password_confirmation","status","localStorage","setItem","err","response","children","className","onSubmit","htmlFor","type","placeholder","value","onChange","target","required"],"sources":["E:/MY DEVELOPMENT/my-app/src/Updateuser.js"],"sourcesContent":["\r\n\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default function Updateuser(){\r\n    const [name,SetName]=useState('')\r\n    const [email,SetEmail]=useState('')\r\n    const [password,SetPssword]=useState('')\r\n    const [reppassword,SetReppassword]=useState('')\r\n    const [accept,SetAccept]=useState(false)\r\n    const [EmailErr,SetEmailerr]=useState(\"\")\r\n    \r\nconst id = window.location.pathname.split(\"/\").slice(-1)[0];\r\n\r\nuseEffect(()=>{\r\n    fetch(`http://127.0.0.1:8000/api/user/showbyid/${id}`)\r\n    .then((res)=> res.json())\r\n    .then((data)=> {SetName(data[0].name)\r\n    SetEmail(data[0].email)\r\n//SetReppassword(data[0].password)\r\n\r\n\r\n})\r\n},[]);\r\n\r\n    async function Submit(e){\r\n       let flag=true;\r\n        e.preventDefault();\r\n        SetAccept(true)\r\n        if (name === '' || password.length<=8 || reppassword !== password){\r\n           flag=false;\r\n        } else flag=true;\r\n        \r\n\r\n        try{\r\n\r\n        if(flag){\r\n    let res = await axios.post(`http://127.0.0.1:8000/api/user/update/${id}`,{\r\n    name: name,\r\n    email:email,\r\n    password: password,\r\n    password_confirmation: reppassword,\r\n         }) ;\r\n         if (res.status === 200){\r\n            window.localStorage.setItem(\"email\",email)\r\n          \r\n\r\n\r\n            window.location.pathname =\"/Dashbord/Users\"\r\n         }\r\n        }}catch(err){\r\n            SetEmailerr(err.response.status)\r\n        }\r\n       \r\n    }\r\n\r\n    \r\n    return (\r\n    \r\n    <div><div className=\"pfrm1\">\r\n        <form className=\"frm1\" onSubmit={Submit}>\r\n\r\n            <label htmlFor=\"name\"> LastName </label>\r\n            <input type=\"text\" name=\"LastName\" placeholder=\"LastName\" id=\"name\" value={name} \r\n                        onChange={(e) => SetName(e.target.value)}\r\n            />\r\n            {name === '' && accept &&  <p className=\"error\">name is more than 3 char</p>}\r\n\r\n            <label htmlFor=\"email\"> Email</label>\r\n            <input type=\"email\" name=\"email\" placeholder=\"Email\" id=\"email\"  value={email} required\r\n                        onChange={(e) => SetEmail(e.target.value)}\r\n\r\n            />\r\n            {accept && EmailErr === 422 && <p>email is allready taken</p>}\r\n\r\n           \r\n            <label htmlFor=\"password\">  Pass word</label>\r\n            <input type=\"password\" name=\"password\" placeholder=\"Pass word\" id=\"password\" value={password}\r\n                        onChange={(e) => SetPssword(e.target.value)}\r\n\r\n            />\r\n            {password.length<=8 &&accept && <p className=\"error\">password motr than 8 char</p>}\r\n\r\n            <label htmlFor=\"reppassword\"> Repeat Pass word</label>\r\n            <input type=\"password\" name=\"password\" placeholder=\"Repeat Pass word\" id=\"reppassword\" value={reppassword}\r\n                        onChange={(e) => SetReppassword(e.target.value)}\r\n\r\n            />\r\n             {reppassword !== password && accept&& <p className=\"error\">must similar password</p>}           \r\n\r\n            <button type=\"submit\">Update</button>\r\n        </form>\r\n    </div> </div>)\r\n}"],"mappings":"AAGA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAG1B,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAE,CAChC,KAAM,CAACC,IAAI,CAACC,OAAO,CAAC,CAACR,QAAQ,CAAC,EAAE,CAAC,CACjC,KAAM,CAACS,KAAK,CAACC,QAAQ,CAAC,CAACV,QAAQ,CAAC,EAAE,CAAC,CACnC,KAAM,CAACW,QAAQ,CAACC,UAAU,CAAC,CAACZ,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACa,WAAW,CAACC,cAAc,CAAC,CAACd,QAAQ,CAAC,EAAE,CAAC,CAC/C,KAAM,CAACe,MAAM,CAACC,SAAS,CAAC,CAAChB,QAAQ,CAAC,KAAK,CAAC,CACxC,KAAM,CAACiB,QAAQ,CAACC,WAAW,CAAC,CAAClB,QAAQ,CAAC,EAAE,CAAC,CAE7C,KAAM,CAAAmB,EAAE,CAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAE3DzB,SAAS,CAAC,IAAI,CACV0B,KAAK,4CAAAC,MAAA,CAA4CP,EAAE,CAAE,CAAC,CACrDQ,IAAI,CAAEC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACxBF,IAAI,CAAEG,IAAI,EAAI,CAACtB,OAAO,CAACsB,IAAI,CAAC,CAAC,CAAC,CAACvB,IAAI,CAAC,CACrCG,QAAQ,CAACoB,IAAI,CAAC,CAAC,CAAC,CAACrB,KAAK,CAAC,CAC3B;AAGA,CAAC,CAAC,CACF,CAAC,CAAC,EAAE,CAAC,CAED,cAAe,CAAAsB,MAAMA,CAACC,CAAC,CAAC,CACrB,GAAI,CAAAC,IAAI,CAAC,IAAI,CACZD,CAAC,CAACE,cAAc,CAAC,CAAC,CAClBlB,SAAS,CAAC,IAAI,CAAC,CACf,GAAIT,IAAI,GAAK,EAAE,EAAII,QAAQ,CAACwB,MAAM,EAAE,CAAC,EAAItB,WAAW,GAAKF,QAAQ,CAAC,CAC/DsB,IAAI,CAAC,KAAK,CACb,CAAC,IAAM,CAAAA,IAAI,CAAC,IAAI,CAGhB,GAAG,CAEH,GAAGA,IAAI,CAAC,CACZ,GAAI,CAAAL,GAAG,CAAG,KAAM,CAAA3B,KAAK,CAACmC,IAAI,0CAAAV,MAAA,CAA0CP,EAAE,EAAG,CACzEZ,IAAI,CAAEA,IAAI,CACVE,KAAK,CAACA,KAAK,CACXE,QAAQ,CAAEA,QAAQ,CAClB0B,qBAAqB,CAAExB,WAClB,CAAC,CAAC,CACF,GAAIe,GAAG,CAACU,MAAM,GAAK,GAAG,CAAC,CACpBlB,MAAM,CAACmB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC/B,KAAK,CAAC,CAI1CW,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAAE,iBAAiB,CAC9C,CACD,CAAC,CAAC,MAAMmB,GAAG,CAAC,CACRvB,WAAW,CAACuB,GAAG,CAACC,QAAQ,CAACJ,MAAM,CAAC,CACpC,CAEJ,CAGA,mBAEAjC,KAAA,QAAAsC,QAAA,eAAKxC,IAAA,QAAKyC,SAAS,CAAC,OAAO,CAAAD,QAAA,cACvBtC,KAAA,SAAMuC,SAAS,CAAC,MAAM,CAACC,QAAQ,CAAEd,MAAO,CAAAY,QAAA,eAEpCxC,IAAA,UAAO2C,OAAO,CAAC,MAAM,CAAAH,QAAA,CAAC,YAAU,CAAO,CAAC,cACxCxC,IAAA,UAAO4C,IAAI,CAAC,MAAM,CAACxC,IAAI,CAAC,UAAU,CAACyC,WAAW,CAAC,UAAU,CAAC7B,EAAE,CAAC,MAAM,CAAC8B,KAAK,CAAE1C,IAAK,CACpE2C,QAAQ,CAAGlB,CAAC,EAAKxB,OAAO,CAACwB,CAAC,CAACmB,MAAM,CAACF,KAAK,CAAE,CACpD,CAAC,CACD1C,IAAI,GAAK,EAAE,EAAIQ,MAAM,eAAKZ,IAAA,MAAGyC,SAAS,CAAC,OAAO,CAAAD,QAAA,CAAC,0BAAwB,CAAG,CAAC,cAE5ExC,IAAA,UAAO2C,OAAO,CAAC,OAAO,CAAAH,QAAA,CAAC,QAAM,CAAO,CAAC,cACrCxC,IAAA,UAAO4C,IAAI,CAAC,OAAO,CAACxC,IAAI,CAAC,OAAO,CAACyC,WAAW,CAAC,OAAO,CAAC7B,EAAE,CAAC,OAAO,CAAE8B,KAAK,CAAExC,KAAM,CAAC2C,QAAQ,MAC3EF,QAAQ,CAAGlB,CAAC,EAAKtB,QAAQ,CAACsB,CAAC,CAACmB,MAAM,CAACF,KAAK,CAAE,CAErD,CAAC,CACDlC,MAAM,EAAIE,QAAQ,GAAK,GAAG,eAAId,IAAA,MAAAwC,QAAA,CAAG,yBAAuB,CAAG,CAAC,cAG7DxC,IAAA,UAAO2C,OAAO,CAAC,UAAU,CAAAH,QAAA,CAAC,aAAW,CAAO,CAAC,cAC7CxC,IAAA,UAAO4C,IAAI,CAAC,UAAU,CAACxC,IAAI,CAAC,UAAU,CAACyC,WAAW,CAAC,WAAW,CAAC7B,EAAE,CAAC,UAAU,CAAC8B,KAAK,CAAEtC,QAAS,CACjFuC,QAAQ,CAAGlB,CAAC,EAAKpB,UAAU,CAACoB,CAAC,CAACmB,MAAM,CAACF,KAAK,CAAE,CAEvD,CAAC,CACDtC,QAAQ,CAACwB,MAAM,EAAE,CAAC,EAAGpB,MAAM,eAAIZ,IAAA,MAAGyC,SAAS,CAAC,OAAO,CAAAD,QAAA,CAAC,2BAAyB,CAAG,CAAC,cAElFxC,IAAA,UAAO2C,OAAO,CAAC,aAAa,CAAAH,QAAA,CAAC,mBAAiB,CAAO,CAAC,cACtDxC,IAAA,UAAO4C,IAAI,CAAC,UAAU,CAACxC,IAAI,CAAC,UAAU,CAACyC,WAAW,CAAC,kBAAkB,CAAC7B,EAAE,CAAC,aAAa,CAAC8B,KAAK,CAAEpC,WAAY,CAC9FqC,QAAQ,CAAGlB,CAAC,EAAKlB,cAAc,CAACkB,CAAC,CAACmB,MAAM,CAACF,KAAK,CAAE,CAE3D,CAAC,CACApC,WAAW,GAAKF,QAAQ,EAAII,MAAM,eAAGZ,IAAA,MAAGyC,SAAS,CAAC,OAAO,CAAAD,QAAA,CAAC,uBAAqB,CAAG,CAAC,cAErFxC,IAAA,WAAQ4C,IAAI,CAAC,QAAQ,CAAAJ,QAAA,CAAC,QAAM,CAAQ,CAAC,EACnC,CAAC,CACN,CAAC,IAAC,EAAK,CAAC,CACjB"},"metadata":{},"sourceType":"module","externalDependencies":[]}